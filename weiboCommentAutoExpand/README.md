微博自动展开评论
=======================

[脚本发布页](https://greasyfork.org/scripts/402388)

[个人脚本仓库](https://github.com/indefined/UserScripts)

[问题反馈到这里](https://github.com/indefined/UserScripts/issues)

**提交问题反馈前请先看完说明**

-------------------------
## 功能

- 自动展开微博详情页的评论，包括页面底部的更多评论及楼中楼评论
- 惰性加载，只有楼中楼评论滚动接近进入视野内时才会点击展开
- 默认情况如果有多个楼中楼同时在展开则下一层排队延迟1秒之后再展开

**更改默认延迟方法**

在微博页面地址栏中输入 `javascript:localStorage.autodelay=1000;location.reload();`
  - 更改中间的`1000`为任意你想延迟的时间，单位为毫秒（1000毫秒=1秒），小于等于0时不延迟
  - **注意直接复制此行代码浏览器会把`javascript:`删掉，所以自己需要手动输入前面的`javascript:`**
  - 输入之后按回车键页面会刷新生效，如果没有生效或者跳到搜索请检查是否输入正确 **（特别注意`:`冒号需要在半角英文状态下输入）**

![预览](https://greasyfork.org/system/screenshots/screenshots/000/020/676/original/preview.jpg)

-------------------------
## 问题说明

- 只会在微博详情页生效，不会展开微博列表下的评论，因为点击微博列表下的评论会打开新网页
- 因为队列加载的原因自动展开可能存在延迟（如上设置）
- 大量展开楼中楼无可避免会失败，如果延迟加大之后仍然无限转圈请自行刷新网页

-------------------------
## 兼容维护说明

- 使用了ES6语法，意味着古董浏览器应该不受支持
- 没有系统测试过，因为脚本很简单大概不会有什么浏览器或者脚本管理器兼容限制
- 惰性维护，因为本人并不一定会使用这个脚本，如果没有收到失效反馈应该不会主动维护
- 如果需要反馈脚本失效问题，请提供参考链接，在github上反馈时请在标题中包含 [微博自动展开评论脚本]
